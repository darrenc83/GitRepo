var HistoryIndex=new function(){function t(){var t=$.connection.machineHub;t.client.updateBag=function(t){var r,f,i,u;if(t.code.Code==n){for(r='<table class="mobile-responsive individual-system-information tebs-bag-info">',r+="<tr><th>Denomination<\/th><th>Qty<\/th><th>Total<\/th><\/tr>",f=0,i=0;i<t.count.length;i++)r+="<tr>",r+="<td>"+Format.asCurrency(t.count[i].Value,t.count[i].Country,!0)+"<\/td>",r+="<td>"+t.count[i].Number+"<\/td>",r+="<td>"+Format.asCurrency(t.count[i].Tot,t.count[i].Country,!0)+"<\/td>",r+="<\/tr>",f+=t.count[i].Number;for(i=0;i<t.total.length;i++)r+="<tr>",r+="<td>Grand Total<\/td>",r+="<td>"+f+"<\/td>",r+="<td>"+Format.asCurrency(t.total[i].Value,t.total[i].Country,!0)+"<\/td>",r+="<\/tr>";for(r+="<\/table>",$("#tebs-bag-summary").html(r),$("#tebs-bag-history tbody").empty(),i=0;i<t.history.length;i++)u="<tr>",u+="<td>"+Format.asDateAndTime(t.history[i].Timestamp)+"<\/td>",u+="<td>"+t.history[i].MachineId+"<\/td>",u+="<td>"+t.history[i].RecordType+"<\/td>",u+="<td>"+(t.history[i].RejectCode=="None"?"":t.history[i].RejectCode)+"<\/td>",u+="<td>"+(t.history[i].KeyId==0?"":t.history[i].KeyId)+"<\/td>",u+="<td>"+(t.history[i].Country=="..."?"":t.history[i].Country)+"<\/td>",u+="<td>"+(t.history[i].Value==0?"":Format.asCurrency(t.history[i].Value,t.history[i].Country))+"<\/td>",u+="<\/tr>",$("#tebs-bag-history tbody").append(u)}};$.connection.hub.start().done()}var n=0;this.initialise=function(i){n=i;t()}};