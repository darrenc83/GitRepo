"use strict";var CollectorsIndex=new function(){function n(){$.get("/Collectors/CollectorsData",function(n){r(n)})}function r(n){var f,r,u;for($(".collector-summary-row").remove(),n.sort(function(n,t){return n.Name.localeCompare(t.Name)}),f=0;f<n.length;f++)r=n[f],u=i.collector.clone().toggleClass("error",r.IsStatusError).click(function(n){return function(){window.location="/Collector/"+n}}(r.Id)),u.find(".collector-name strong").text(r.Name),u.find(".collector-id").text(r.Id),u.find(".collector-key-id").text(r.KeyId),u.find(".collector-email").text(r.Email),u.find(".collector-phone").html(r.PhoneNumber||"&mdash;"),u.find(".collector-country").text(r.Country),u.find(".collector-collection-status").text(r.StatusDescription),u.find(".collector-machine-id").html(r.MachineId||"&mdash;"),u.find(".collector-last-update-time").text(Format.asDateAndTime(r.LastUpdate)),u.find(".collector-assigned-machines").text(r.AssignedMachines),t.collectorsTable.append(u)}function u(){var t=$.connection.machineHub;t.client.updateCollector=function(){n()};$.connection.hub.start().done()}var t={collectorsTable:$("#collector-user-list-table tbody")},i={collector:Tools.extractTemplate("#template__collector-details")};this.initialise=function(){n();u()}};