"use strict";var SystemEvents=new function(){this.markEventsViewed=function(){$.post("/SystemEvents/MarkViewed")};this.updateSystemEventsUi=function(n,t,i,r){var f,e;for(r&&i.find(".system-event").remove(),f=0;f<n.length;f++){var u=n[f],h=SystemEvents.getEventTypeClass(u),o=SystemEvents.getEventLinkUrl(u),s=u.EventCaption;u.UserName&&(s+=" [by "+u.UserName+"]");e=t.clone().find(".system-event-type").text(u.EventTypeDescription+": ").end().find(".system-event-detail").text(s).end().find(".system-event-date").text(Format.asEventDateAndTime(u.Timestamp)).end().addClass(h).toggleClass("unread",u.IsNew);o&&e.addClass("clickable").click(function(n){return function(){window.location=n}}(o));e.appendTo(i)}};this.getEventTypeClass=function(n){switch(n.EventType){case"MachineCollected":return"collection";case"MachineRefilled":return"refill";case"MachineUpdateAvailable":return"update";case"MachineStatusAdded":if(n.MachineStatus==="Offline")return"offline";if(n.MachineStatusFull)return"full";if(n.MachineStatusError)return"error";break;default:return null}};this.getEventLinkUrl=function(n){switch(n.EventType){case"BillsFull":case"BillJam":case"CoinJam":case"PowerRemoved":case"CoinsFull":case"Offline":case"StackerFull":case"SystemMovementDetected":case"SecurityLoopBreak":case"BillSystemUpdated":case"CoinSystemUpdated":case"LcSystemUpdated":case"BillSystemSoftwareError":case"CoinSystemSoftwareError":case"LcSystemSoftwareError":case"BillPathJam":case"BillStackerJam":case"Online":case"PowerRestored":case"TicketsLow":case"TicketsJam":case"CoinMechError":case"CalibrationError":case"PayoutOutofService":case"PayoutJam":case"BillFraudDetected":case"CoinFraudDetected":case"BillSystemInhibited":case"CoinSystemInhibited":case"CoinSystemReset":case"BillSystemReset":case"MachineStatusAdded":case"MachineStatusRemoved":case"MachineAdded":case"MachineDetailsEdited":case"MachineUpdateAvailable":case"MachineAssignedToSite":return"/Machine/"+n.MachineId;case"MachineCollected":case"MachineRefilled":return"/Collection/"+n.CollectionEventId;case"CollectorAdded":case"CollectorAssignedToMachine":return"/Collector/"+n.CollectorId;default:return null}}};